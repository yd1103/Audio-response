<!DOCTYPE html>
<html>
    <head>
        <title>My experiment</title>
		<script src="../jspsych.js"></script>
		<script src="../plugins/jspsych-html-keyboard-response.js"></script>
		<script src="../plugins/jspsych-audio-keyboard-response.js"></script>
		<link href="../css/jspsych.css" rel="stylesheet" type="text/css"></link>
    </head>
    <body></body>
	<script>
		//create timeline array//
		var timeline = [];
	
		//welcome message//	
		var welcome = {
			type: 'html-keyboard-response',
			stimulus: 'Welcome to the experiment! Press any key to begin.'
		};
		timeline.push(welcome);
		
		//description of what the subject is about to hear (habituation)//
		var habituation_instructions = {
			type: "html-keyboard-response",
	    	stimulus: "<p>You are about to hear two types of tones, a short tone and a long tone.</p>" +
	              "<p>After each tone, a screen will tell you what type of tone it was.</p>" +
	              "<p>Press any key to begin.</p>"
		};
		timeline.push(habituation_instructions);
		
		//array for different habituation stimuli//
		var habituation_stimuli = [
		  { audio: "sound/autumn_cut1.mp3", prompt: 'This is a short tone.'},
		  { audio: "sound/autumn_cut2.mp3", prompt: 'This is a long tone.'}
		];
		
		//fixation cross for habituation (shorter)//
		var habituation_fixation = {
		  type: 'html-keyboard-response',
		  stimulus: '<div style="font-size:60px;">+</div>',
		  choices: jsPsych.NO_KEYS,
		  trial_duration: 1500,
		}
		
		var habituation = {
		  type: "audio-keyboard-response",
		  stimulus: jsPsych.timelineVariable('audio'),
		  choices: jsPsych.NO_KEYS,
			prompt: jsPsych.timelineVariable('prompt')
		}
		
		var habituation_procedure = {
		  timeline: [habituation_fixation, habituation],
		  timeline_variables: habituation_stimuli,
		  randomize_order: true,
			repetitions: 3
			
		}
		timeline.push(habituation_procedure);
		
		jsPsych.init({
			timeline: timeline,
			use_webaudio: false,
			preload_audio: ['sound/autumn_cut1.mp3', 'sound/autumn_cut2.mp3']
		})
		
	</script>
</html>
